<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="../../../static/style.css">
<link rel="stylesheet" href="../../../static/pygments.css">
<link rel="icon" type="image/x-icon" href="../../../static/favicon.ico">
<meta name="viewport" content="width=device-width">

  <meta name="og:title" content="Graham Knapp's Blog">
  <meta name="title" property="og:title" content="Graham Knapp's Blog">

<meta name="author" content="Graham Knapp">

  <meta name="og:description"
      content="Graham Knapp's homepage and blog.  Graham is a British Engineer and musician living in France">
  <meta name="description" property="og:description"
      content="Graham Knapp's homepage and blog.  Graham is a British Engineer and musician living in France">

<meta name="image" property="og:image" content="../../../GrahamKnapp.png" />

<title>Graham Knapp ‚Äî blog</title>
</head>
<body>
<header>
    <h1><a href="../../../">Graham Knapp</a></h1>

    <nav>
        <ul class="nav navbar-nav">
            <li><a href="../../../">Welcome</a></li>
            
                <li class="active"><a href="../../">Blog</a>
                </li>
            
                <li><a href="../../../contact/">Contact</a>
                </li>
            
                <li><a href="../../../about/">About</a>
                </li>
            
            <li><a href="/feed.xml"><img src="../../../static/rss-feed.png" title="RSS Feed" alt="RSS Feed"
                                                 style="width: 24px; height: 24px;"></a></li>
        </ul>
    </nav>
    <div>

    </div>
</header>
<div class="page">
    
    
  
    <a href="../../tags/ai/" class="tag" title="AI articles">AI</a>
  
    <a href="../../tags/bookmarks/" class="tag" title="bookmarks articles">bookmarks</a>
  
    <a href="../../tags/design-patterns/" class="tag" title="design patterns articles">design patterns</a>
  
    <a href="../../tags/django/" class="tag" title="django articles">django</a>
  
    <a href="../../tags/e57/" class="tag" title="e57 articles">e57</a>
  
    <a href="../../tags/feature-flags/" class="tag" title="feature flags articles">feature flags</a>
  
    <a href="../../tags/pointcloud/" class="tag" title="pointcloud articles">pointcloud</a>
  
    <a href="../../tags/python/" class="tag" title="python articles">python</a>
  
    <a href="../../tags/rhino-3d/" class="tag" title="Rhino 3D articles">Rhino 3D</a>
  
    <a href="../../tags/talks/" class="tag" title="talks articles">talks</a>
  
    <a href="../../tags/typescript/" class="tag" title="TypeScript articles">TypeScript</a>
  
    <a href="../../tags/wind-engineering/" class="tag" title="wind engineering articles">wind engineering</a>
  

    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../ai-coding-stone-soup/">AI coding - stone soup üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-03-01
  </p>
      
          <p>There's an old European folk tale of a man going into a village and asking for a pot and some water so he can make stone soup. Intrigued, the villagers give him a pot and some water and he boils it up. After a while he tastes it and says "not bad but it could use some onion - do you have some leftovers". The villagers give him a bit of onion and a few herbs whilst they are at it. It carries on like this until he has a delicious soup and the villagers are amazed that he did all that with just a pot of water and a stone.</p>
<p>I love Copilot, Claude and all the good things but the iterations of GitHub issues, suggested actions, debugging and fixing in the newer tool previews often taste suspiciously like stone soup üòÖ ü™®üç≤ .</p>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../til-django-caching-doesnt-cross-versions/">TIL: Django caching doesn&#39;t cross versions üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-02-11
  </p>
      
          <p>Reading into <a href="https://github.com/jazzband/django-waffle/issues/546">this issue on Django-waffle</a> 
I learned that Django uses pickle to store objects in its cache but does not guarantee that these objects
will remain valid between versions, so it <a href="https://github.com/django/django/blob/47c837a1ff96ef1b10b44477a7a9f72283d12e83/django/db/models/base.py#L637">raises a <code>RuntimeWarning</code></a> 
 when you access potentially stale objects.</p>
<p>The Django docs recommend clearing the cache on upgrade, and this <a href="https://stackoverflow.com/questions/5942759/best-place-to-clear-cache-when-restarting-django-server">Stackoverflow post</a>
discusses ways of doing that.</p>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../ai-coding-patterns-language-bridging/">AI coding patterns: Language bridging üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-02-10
  </p>
      
          <p>A pattern I enjoy with Copilot or other AI coding tools is something I'm calling "Language bridging":</p>
<blockquote><p><strong> Language bridging </strong>: Write code to solve a problem in a language you know well, then 
use an AI to translate the code into the language you want or need to use.
<br><br><a href="../../ai-coding-patterns-language-bridging/">Read Full Post</a></p>
</blockquote>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../real-developers/">Real developers üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-02-08
  </p>
      
          <p>There's this myth we tell ourselves about <em>"Real developers"</em> and especially <em>"this is why I am not a Real developer"</em>. It got me thinking - is there actually a useful definition out there?</p>
<p>Here is my best try:</p>
<blockquote><p>*A <strong>'Real Developer'</strong> is someone who writes code or other instructions for a computer 
which run successfully and get something useful or delightful done in the real world
<br><br><a href="../../real-developers/">Read Full Post</a></p>
</blockquote>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../2024-my-year-in-open-source/">2024 - My year in Open Source üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-02-07
  </p>
      
          <p><a href="https://github.com/dancergraham?tab=overview&amp;from=2024-01-01&amp;to=2024-12-31">Looking back on 2024</a> here are some personal highlights:</p>
<h3>Maintaining an established pypi package üì¶</h3>
<p>Early in 2024 I took over maintenance of the very useful <a href="https://pypi.org/project/pye57/">Python package pye57</a> for 
reading and writing e57 format pointcloud files. I have been using it at work for several years and was 
worried that it was not being maintained, blocking upgrade of our project to Python 3.11. 
I had already started working on an alternative library, cleverly titled <code>e57</code> - essentially I got in touch with 
the project maintainer, providing some evidence that I was a real human being not a sham account, 
many thanks to David Caron for creating the library and maintaining it for so many years, and for trusting
me to carry it on.
<br><br><a href="../../2024-my-year-in-open-source/">Read Full Post</a></p>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../e57-file-xml-tool/">E57 file xml extractor üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-01-26
  </p>
      
          <p>See the xml portion from the end of an <code>.e57</code> pointcloud file. This contains information like the bounding box of the
pointcloud, the number of points and how the points and other information are organised in the file.</p>
<p>I wrote it with a bit of help from Claude ai by describing what I wanted and pasting a description of the e57 file
format before doing a lot of debugging to get the entire xml section and then integrating it with my blog.</p>
<p>I find the e57 file format a bit <em>wierd</em> - it starts with a header including a file version number and an offset to the XML portion, 
which comes at the <em>end</em> of the file so you need to read both ends of the file before you can understand the middle bit. So 
if you download the file you have to wait for it to finish downloading - you can't start to interpret or display the 
points and other data whilst streaming data.</p>
<p>This tool is written in JavaScript and runs in your browser - no files are uploaded to any server (in fact this blog has no backend server - it
is a static web site - it is downloaded and runs entirely in your browser).</p>
<p><div id="file-upload">
    <label>
        Select E57 File
        <input type="file" id="e57-input" accept=".e57" style="display:none;">
    </label>
</div></p>
<p><div id="error" style="display:none;"></div></p>
<p><button class="clipboard-button" onclick="copyToClipboard()">Copy to Clipboard</button></p>
<pre id="xml-content" class="highlight"></pre><script>
    document.getElementById('file-upload').addEventListener('click', () => {
        document.getElementById('e57-input').click();
    });

    document.getElementById('e57-input').addEventListener('change', async (event) => {
        if (!event.target.files.length) {
            return;
        }
        const file = event.target.files[0];
        const errorDiv = document.getElementById('error');
        const xmlContentDiv = document.getElementById('xml-content');

        errorDiv.textContent = '';
        xmlContentDiv.textContent = '';

        try {
            const arrayBuffer = await file.arrayBuffer();
            const buffer = new Uint8Array(arrayBuffer);
            errorDiv.style.display = 'none';

            // Parse file header
            const fileHeader = {
                fileSignature: new TextDecoder().decode(buffer.slice(0, 8)),
                majorVersion: new DataView(buffer.buffer).getUint32(8, true),
                minorVersion: new DataView(buffer.buffer).getUint32(12, true),
                xmlPhysicalOffset: new DataView(buffer.buffer).getBigUint64(24, true)
            };

            // Validate file signature
            if (fileHeader.fileSignature !== 'ASTM-E57') {
                throw new Error('Not a valid E57 file');
            }

            // Extract XML section
            let xmlBytes = [];
            let offset = Number(fileHeader.xmlPhysicalOffset);

            while (offset < buffer.length) {
                const pageStart = Math.floor(offset / 1024) * 1024;
                const pageEnd = Math.min(pageStart + 1020, buffer.length);  // Exclude 4-byte checksum
                const pageData = buffer.slice(pageStart, pageEnd);
                xmlBytes.push(...pageData.slice(offset % 1024));
                offset += (1024 - (offset % 1024));
            }
            // Convert XML bytes to string
            let xmlString = new TextDecoder().decode(new Uint8Array(xmlBytes));

            // Find the start of the XML declaration
            const xmlStart = xmlString.indexOf('<?xml');
            if (xmlStart === -1) {
                throw new Error('No valid XML found');
            }

            // end at the first instance of </e57Root>
            const xmlEnd = xmlString.indexOf('</e57Root>');
            if (xmlEnd === -1) {
                throw new Error('No valid XML found');
            }

            xmlString = xmlString.slice(xmlStart, xmlEnd + 10);
            xmlContentDiv.textContent = xmlString;

        } catch (err) {
            errorDiv.textContent = err.message;
            errorDiv.style.display = 'block';
        } finally {
            event.target.value = '';
        }
    });

    function copyToClipboard() {
        const xmlContentDiv = document.getElementById('xml-content');
        const text = xmlContentDiv.innerText;

        const textarea = document.createElement('textarea');
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);

        alert('Code copied to clipboard!');
    }
</script>
        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../twos-company-threes-a-crowd/">Two&#39;s company, three&#39;s a crowd üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-01-20
  </p>
      
          <p>My version of YAGNI - "You Ain't Gonna Need It" - is a rule of three: only spend time refactoring your code when you have repeated yourself 3 times. Don't aim for truly DRY code devoid of all repetition.</p>
<p>I'm not saying not to apply SOLID design principles from the start - I definitely try to separate concerns, giving a single responsibility to a class or function and avoid, for instance, a single method handling file reading, data transformation and reporting.  This simplicity will make it much easier to refactor the code later.</p>
<p>I am saying to avoid using sophisticated design patterns, architecture or abstractions before you have used of your code enough to know what is likely to change (and require encapsulation) and what will stay constant (creating a useful abstraction). 
<br><br><a href="../../twos-company-threes-a-crowd/">Read Full Post</a></p>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../the-zen-of-python-revisited/">The Zen of Python: Gur Mra bs Clguba. üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-01-14
  </p>
      
          <p>I love The Zen of Python - one of the delights of the language is typing <code>import this</code> in a REPL and discovering this gem:</p>
<div class="hll"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">this</span>
</pre></div>
<div class="hll"><pre><span></span><span class="go">The Zen of Python, by Tim Peters</span>

<span class="go">Beautiful is better than ugly.</span>
<span class="go">Explicit is better than implicit.</span>
<span class="go">Simple is better than complex.</span>
<span class="go">Complex is better than complicated.</span>
<span class="go">Flat is better than nested.</span>
<span class="go">Sparse is better than dense.</span>
<span class="go">Readability counts.</span>
<span class="go">Special cases aren&#39;t special enough to break the rules.</span>
<span class="go">Although practicality beats purity.</span>
<span class="go">Errors should never pass silently.</span>
<span class="go">Unless explicitly silenced.</span>
<span class="go">In the face of ambiguity, refuse the temptation to guess.</span>
<span class="go">There should be one-- and preferably only one --obvious way to do it.</span>
<span class="go">Although that way may not be obvious at first unless you&#39;re Dutch.</span>
<span class="go">Now is better than never.</span>
<span class="go">Although never is often better than *right* now.</span>
<span class="go">If the implementation is hard to explain, it&#39;s a bad idea.</span>
<span class="go">If the implementation is easy to explain, it may be a good idea.</span>
<span class="go">Namespaces are one honking great idea -- let&#39;s do more of those!</span>
</pre></div>
<p>It neatly captures the way in which Guido van Rossum and a group of Pythonistas thought about 
the language, constructed and used it, sharing thoughts on user forums in in-person meetings.
<br><br><a href="../../the-zen-of-python-revisited/">Read Full Post</a></p>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../feature-flags-pt-2-start-small/">Feature flags Pt 2: Start small üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-01-05
  </p>
      
          <p>In our team we started with the smallest possible shareable system - a flags namespace in our front-end code. We later adopted an existing open source library in the back end.  This got me thinking - what is the smallest possible feature flag system?</p>
<p><img src="../../feature-flags-pt-2-start-small/640px-Britains_Deetail_Waterloo_British_Officer_with_Sword_and_Flag.jpg" alt="Britains Deetail Waterloo British Officer with Sword and Flag by Sclight"></p>
<p>Here's a Hello World example...</p>
<h3>The world without flags</h3>
<div class="hll"><pre><span></span><span class="c1"># greet.py</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">)</span>
</pre></div>
<p><br><br><a href="../../feature-flags-pt-2-start-small/">Read Full Post</a></p>

        </div>

        </div>
        <hr>
    
        <div>
            
            
  <div class="blog-post">
  
    <h2><a href="../../feature-flags-pt-1-whats-so-great-about-feature-flags/">Feature flags Pt 1: Faster feature development with flags. üîó</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-01-02
  </p>
      
          <p>The greatest accelerator of my team's work last year was adopting feature flags. With flags we ship features faster, more confidently and with less stress. We have fewer merge conflicts despite frequently working together on the same part of the code base.</p>
<p><img src="../../feature-flags-pt-1-whats-so-great-about-feature-flags/Sbandieratori_3.JPG" alt="Men in colourful mediaeval costumes throwing huge flags into the air in a central Italian flagged square, thousands of onlookers in the background">
<br><br><a href="../../feature-flags-pt-1-whats-so-great-about-feature-flags/">Read Full Post</a></p>

        </div>

        </div>
        <hr>
    

    
  <div class="pagination">
    
      <a href="../../">&laquo; Previous</a>
    
    | 2 |
    
      <a href="../3/">Next &raquo;</a>
    
  </div>


</div>
<footer>
    &copy; Copyright 2019 - 2025 by Graham Knapp.
</footer>
</body>
</html>
