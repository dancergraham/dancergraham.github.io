<!doctype html>
<meta charset="utf-8">
<link rel="stylesheet" href="../../static/style.css">
<link rel="stylesheet" href="../../static/pygments.css">
<title>Trouver un musicothérapeute — blog</title>
<body>
  <header>
    <h1>Graham Knapp</h1>
    <nav>
      <ul class="nav navbar-nav">
        <li><a href="../../">Welcome</a></li>
        
          <li class="active"><a href="../">Blog</a></li>
        
          <li><a href="../../contact/">Contact</a></li>
        
          <li><a href="../../about/">About</a></li>
        
      </ul>
    </nav>
  </header>
  <div class="page">
    
  
  <div class="blog-post">
  
    <h2>Trouver un musicothérapeute</h2>
  
  <p class="meta">
    written by
    
      Graham Knapp
    
    on 2021-07-20
  </p>
  <p>Ma femme est non seulement une superbe musicienne mais <a href="https://www.musicotherapeute-nantes.fr">aussi une musicothérapeute</a> : elle soigne les gens, ou les aide à se soigner eux-mêmes, avec de la musique!</p>
<p>J'ai crée cette <a href="musicotherapeutes.html">carte des musicothérapeutes français</a> avec la méthode suivante:</p>
<ul>
<li>Scrape le site web de la <a href="https://www.musicotherapie-federationfrancaise.com">Fédération Française de Musicothérapie</a> avec Requests et Beautiful Soup</li>
<li>Géocoder les addresses de tous les musicothérapeutes via OSM (cette partie prend plusieurs minutes)</li>
<li>Créer une carte avec un marqueur par musicothérapeute avec Folium.  </li>
<li>Enregistrer la carte sous format html</li>
</ul>
<p>J'utilise la fonction suivantes pour générer mes tags HTML pour les marqueurs:</p>
<div class="hll"><pre><span></span><span class="k">def</span> <span class="nf">tagged</span><span class="p">(</span><span class="n">txt</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
    <span class="nb">str</span> <span class="o">=</span> <span class="n">txt</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">&gt;</span><span class="si">{</span><span class="n">txt</span><span class="si">}</span><span class="s2">&lt;/</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
</pre></div>

  </div>


  </div>
  <footer>
    &copy; Copyright 2019 by Graham Knapp.
  </footer>
</body>
