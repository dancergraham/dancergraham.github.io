<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="../../static/style.css">
<link rel="stylesheet" href="../../static/pygments.css">
<link rel="icon" type="image/x-icon" href="../../static/favicon.ico">
<meta name="viewport" content="width=device-width" />

  <meta name="og:title" content="TIL: Django caching doesn&#39;t cross versions" />
  <meta name="title" content="TIL: Django caching doesn&#39;t cross versions" />

<meta name="og:url" content="https://grahamknapp.com" />
<meta name="og:type" content="website" />

<meta name="og:description" content="Today I learned that Django uses pickle to store objects in its cache but does not guarantee that these objects will remain valid between versions." />
<meta name="ogescription" content="Today I learned that Django uses pickle to store objects in its cache but does not guarantee that these objects will remain valid between versions." />

<meta property="og:image" content="https://grahamknapp.com/GrahamKnapp.png" />

<title>TIL: Django caching doesn&#39;t cross versions â€” blog</title>
</head>
<body>
<header>
    <h1><a href="../../">Graham Knapp</a></h1>

    <nav>
        <ul class="nav navbar-nav">
            <li><a href="../../">Welcome</a></li>
            
                <li class="active"><a href="../">Blog</a>
                </li>
            
                <li><a href="../../contact/">Contact</a>
                </li>
            
                <li><a href="../../about/">About</a>
                </li>
            
            <li><a href="/feed.xml"><img src="../../static/rss-feed.png" title="RSS Feed" alt="RSS Feed"
                                                 style="width: 24px; height: 24px;"></a></li>
        </ul>
    </nav>
    <div>

    </div>
</header>
<div class="page">
    
  
  <div class="blog-post">
  
    <h2>TIL: Django caching doesn&#39;t cross versions</h2>
  
  <p class="meta">
    written by
    
      <a href="https://hachyderm.io/@graham_knapp">Graham Knapp</a>
    
    on 2025-02-11
  </p>
      
          <p>Reading into <a href="https://github.com/jazzband/django-waffle/issues/546">this issue on Django-waffle</a> 
I learned that Django uses pickle to store objects in its cache but does not guarantee that these objects
will remain valid between versions, so it <a href="https://github.com/django/django/blob/47c837a1ff96ef1b10b44477a7a9f72283d12e83/django/db/models/base.py#L637">raises a <code>RuntimeWarning</code></a> 
 when you access potentially stale objects.</p>
<p>The Django docs recommend clearing the cache on upgrade, and this <a href="https://stackoverflow.com/questions/5942759/best-place-to-clear-cache-when-restarting-django-server">Stackoverflow post</a>
discusses ways of doing that.</p>

          
              <a href="../tags/python" class="tag" title="all python articles">python</a>
          
              <a href="../tags/django" class="tag" title="all django articles">django</a>
          
        </div>


</div>
<footer>
    &copy; Copyright 2019 - 2025 by Graham Knapp.
</footer>
</body>
</html>
