<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Graham Knapp's Blog</title><link href="https://grahamknapp.com/blog/" rel="alternate"/><link href="https://grahamknapp.com/feed.xml" rel="self"/><id>urn:uuid:a509927a-9f41-36b8-aee7-270a9c8493c6</id><updated>2025-09-19T00:00:00Z</updated><author><name/></author><entry><title>Bookmark: The Technological Republic by Karp &amp; Zamiska (2024)</title><link href="https://grahamknapp.com/blog/bookmark-the-technological-republic/" rel="alternate"/><updated>2025-09-19T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:7073a2c5-9ad9-319d-96bd-ccb838bff089</id><content type="html">&lt;p&gt;A surprisingly engaging read, the authors set out a strong argument that Silicon Valley doesn't stand for much of any importance, followed by some rather fragmented arguments and opinions on what should be done about it.&lt;/p&gt;
&lt;p&gt;Part 1 describes the current state of Silicon Valley as the authors see it, highlighting the reluctance of many tech firms to engage in military, policing or surveillance contracts. For me this highlights their refusal to engage with no real opposition or alternative. They seem to hanker for a stronger pro-American attitude from their big tech colleagues.&lt;/p&gt;
&lt;p&gt;Part 2 continues in the same vein, widening the view to describe how politics in America is ever more dominated by arts graduates rather than technological people - as engineers have retreated from addressing social and political issues, society has become ever more skeptical of politics and politicians. The elephant in the room for me in this section is the huge rift between left and right, blue and red in America right now. I don't recall this being discussed at all in the book.&lt;/p&gt;
&lt;p&gt;Part 3 mostly felt like a series of assertions and about how great Palantir and the tools they build are, followed by a short ode to the astonishing success of Silicon Valley in creating companies and technology which pragmatically meet the world where it is rather than where we want it to be.&lt;/p&gt;
&lt;p&gt;Part 4 "Rebuilding the Technological Republic" takes some interesting detours - first into the derisory pay of top public servants relative to their counterparts in the private sector and the perverse incentives this creates - then pointing out that the political left has abandoned notions of nationhood and culture, leaving these exclusively to the right and far-right.&lt;/p&gt;
&lt;p&gt;However the vagueness in the final phrases betrays the lack of a clear project to rally around "It might have been just and necessary to dismantle the old order. We should now build something together in its place." Something indeed.&lt;/p&gt;
</content></entry><entry><title>Adopting LLMs in a startup</title><link href="https://grahamknapp.com/blog/adopting-llms-in-a-startup/" rel="alternate"/><updated>2025-09-14T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:3757dd6c-cc2f-3604-90a8-d511390a8967</id><content type="html">&lt;p&gt;I have been gradually increasing my use of LLM tools since 2022 when I started experimenting with the preview version of GitHub Copilot before encouraging my team to try it out. But adopting AI tools effectively requires more than just signing up for ChatGPT or GitHub Copilot. From my own experience testing and deploying AI across different workflows alone and in a team, here are some practical lessons worth sharing.&lt;/p&gt;
&lt;h3&gt;1. Be Clear About Context and ‚ÄúWhy‚Äù&lt;/h3&gt;
&lt;p&gt;AI works best when you don‚Äôt just tell it &lt;em&gt;what&lt;/em&gt; to do, but also &lt;em&gt;why&lt;/em&gt;. For example, instead of asking ‚Äúwrite a sales pitch,‚Äù tell it what audience you‚Äôre targeting, what problem they have, and why your product solves it. This mirrors how we delegate tasks to humans: explaining the reasoning improves the output.&lt;/p&gt;
&lt;h3&gt;2. Keep a Library of Prompts and Context&lt;/h3&gt;
&lt;p&gt;Rather than reinventing the wheel each time, save prompts that work well. These can be stored in text files, docs, or even as custom GPTs that your team can share. The memory function in modern tools aims to provide this automatically but I like to have as much control as possible over what is in the LLM context so I prefer to manage this myself for important tasks.&lt;/p&gt;
&lt;p&gt;For coding tasks, provide a standardized context file describing your project‚Äôs architecture, frameworks, and conventions. This ensures tools like GitHub Copilot work with higher accuracy and fewer hallucinations. Over time, expand this file with lessons learned from past errors so the model doesn‚Äôt repeat them. In particular I try to start each new piece of coding work with a review and update of the relevant sections of my agent instructions and repo context files.&lt;/p&gt;
&lt;h3&gt;3. Know When to Start Fresh&lt;/h3&gt;
&lt;p&gt;Trying to ‚Äúcorrect‚Äù a messy AI conversation often leads to worse results. If a chat goes off track, don‚Äôt force it‚Äîrestart the conversation from the last good point with better input. It‚Äôs often faster and more reliable than patching mistakes.&lt;/p&gt;
&lt;h3&gt;4. Use Multiple Models for Perspective&lt;/h3&gt;
&lt;p&gt;Sometimes it helps to cross-check outputs. If one model gives a poor response, hand it over to another (e.g., Claude, GPT, Gemini) and see how it compares. Putting ‚ÄúAI subcontractors‚Äù in competition can surface better results and highlight blind spots. Using weaker local models via Ollama helps me to understand the weak spots of LLMs. Regularly seeing extreme examples of failure like this helps me see where stronger models may fail more subtly or infrequently. I can then update my prompts to avoid these errors.&lt;/p&gt;
&lt;h3&gt;5. Build Custom AI Tools for Repeated Tasks&lt;/h3&gt;
&lt;p&gt;If your startup has recurring workflows‚Äîparsing documents, extracting structured data, or analysing standard formats‚Äîit‚Äôs worth creating a custom GPT or fine-tuned workflow. For example, I built a ‚Äúscan to Excel‚Äù tool that turns messy drawings into clean, structured tables. This kind of internal utility saves hours of repetitive work and opens up opportunities for whole new workflows.&lt;/p&gt;
&lt;p&gt;The How I AI podcast has a &lt;a href="https://www.youtube.com/watch?v=xDMkkOC-EhI"&gt;nice episode on building custom GPTs&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;6. Protect Sensitive Information&lt;/h3&gt;
&lt;p&gt;Don‚Äôt paste credit card numbers or shareholder agreements into an AI tool. Even if you use a paid account with stricter data policies, it‚Äôs best practice to avoid exposing sensitive data. Treat AI tools like external contractors‚Äîshare enough context to do the job, but keep confidential material secure.&lt;/p&gt;
&lt;h3&gt;7. Ask for Criticism, Not Just Praise&lt;/h3&gt;
&lt;p&gt;Most AI tools lean toward being agreeable. To avoid shallow validation, explicitly ask the model to critique, roast, or challenge your ideas. Negative prompting can surface weaknesses in your thinking or code that would otherwise go unnoticed.&lt;/p&gt;
&lt;h3&gt;Final Thoughts&lt;/h3&gt;
&lt;p&gt;By treating AI like a junior team member with clear instructions and careful checking you can unlock real value without falling into the traps of vague prompts and drowning in AI generated slop. By regularly reviewing the results alone and as a team you can iterate towards a more efficient workflow with LLMs at the heart.&lt;/p&gt;
&lt;p&gt;The key is to combine experimentation, transparency and discipline: play with the tools, but also put guardrails in place so your team scales their productivity safely.&lt;/p&gt;
&lt;p&gt;This blog post was seeded from a ChatGPT rewrite of my personal contributions to a 1-hour discussion about LLMs at work - thank you to all my colleagues for their participation.&lt;/p&gt;
</content></entry><entry><title>Always say "Please", never say "Thank you" to your LLM</title><link href="https://grahamknapp.com/blog/always-say-please-never-say-thank-you-to-your-llm/" rel="alternate"/><updated>2025-09-10T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:59ae8bee-2b68-324b-83d1-6f89a405bb56</id><content type="html">&lt;p&gt;We've all been there ‚Äì that moment when you catch yourself thanking your AI assistant. But could that simple 'thank you' could have more environmental impact than you think?&lt;/p&gt;
&lt;p&gt;LLMs run on tokens - one token is roughly equivalent to one word so when you say 'please,' you're feeding 1 extra token into your request. In an average  3-turn conversation with an LLM the LLM will re-read that token 3 times, so that's a cost of 3 extra tokens in an exchange which probably includes many hundreds or thousands of tokens.&lt;/p&gt;
&lt;p&gt;But when you say 'thank you,' the AI has to reprocess the entire conversation from start to finish, plus the extra "thank you", taking up significantly more resources. Where "Please" costs 3 tokens, "thank you" costs an extra api call with many hundreds of tokens.&lt;/p&gt;
&lt;p&gt;Lets avoid "thank you" but with the new generation of AI tools having memory, saying 'please' can help the AI understand your personality and communication style better over time. &lt;a href="https://arxiv.org/html/2402.14531v1"&gt;Yin et al (2024)&lt;/a&gt; show us that it may give better results - but don't overdo it! Overly polite requests can degrade results.&lt;/p&gt;
&lt;p&gt;OK so mind your Qs, please and thank you for reading!&lt;/p&gt;
</content></entry><entry><title>Bookmark: System Design Interview: An Insider‚Äôs Guide by Alex Xu</title><link href="https://grahamknapp.com/blog/bookmark-system-design-interview-an-insiders-guide-by-alex-xu/" rel="alternate"/><updated>2025-09-10T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:4b12044e-b97c-3471-93c2-900ae55ca49d</id><content type="html">&lt;p&gt;A structured guide to approaching system design interview questions using real-world case studies and a repeatable framework‚Äîfrom scaling basics to designing complex systems.&lt;/p&gt;
&lt;h3&gt;‚Äã Key Ideas / Takeaways&lt;/h3&gt;
&lt;p&gt;Alex Introduces a &lt;strong&gt;4-step framework&lt;/strong&gt; to tackle system design questions:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Understand the problem and establish the scope  &lt;/li&gt;
&lt;li&gt;Propose a high-level design and get buy-in from the interviewer  &lt;/li&gt;
&lt;li&gt;Dive deep into chosen components &lt;/li&gt;
&lt;li&gt;Wrap up with optimizations, bottlenecks, and improvements &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I found this really useful for demystifying the process and giving some structure to help tackle this kind of interview. The repetition helps to reinforce the process.&lt;/p&gt;
&lt;p&gt;&lt;img src="system_design.jpg" alt="The System Design Interview book cover"&gt;&lt;/p&gt;
&lt;p&gt;The first chapter &lt;strong&gt;Scale from Zero to Millions&lt;/strong&gt; covers: vertical/horizontal scaling, load balancers, database replication, caching, CDN, stateless vs stateful architecture, decoupling via queues, and sharding.&lt;/p&gt;
&lt;p&gt;Other design examples include: rate limiter, consistent hashing, key-value store, unique ID generator, URL shortener, web crawler, notification system, news feed, chat system, search autocomplete, YouTube, Google Drive.&lt;/p&gt;
&lt;h3&gt;What Stuck With Me&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;strong&gt;framework&lt;/strong&gt; is a powerful tool‚ÄîI want to internalize the 4-step approach and apply it systematically.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;scaling chapter&lt;/strong&gt;, especially the discussion around load balancers and replication, feels foundational even if the examples are somewhat dated.&lt;/li&gt;
&lt;li&gt;Some examples‚Äîlike explaining Amazon S3 basics‚Äîfeel unnecessary now, especially for an experienced engineering audience.&lt;/li&gt;
&lt;li&gt;I will come back to this book as needed for future work or job interviews - autocomplete, chat systems and notification system all come up regularly in software design.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;‚Äã Applications / Relevance&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;As a learning exercise, I'd like to **implement a load-balancing pattern in Django, e.g. round-robin or sticky sessions.&lt;/li&gt;
&lt;li&gt;Planning to revisit this bookmark when tackling distributed features or app architectural decisions.&lt;/li&gt;
&lt;li&gt;The general patterns (e.g., caching, sharding, queues) remain relevant and can inform future projects like large-scale data ingest or feature expansion.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Lingering Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;How is a load balancer implemented? I've never needed this in practice but would probably choose an off the shelf solution.&lt;/li&gt;
&lt;li&gt;How do you choose between load balancer strategies: simple round-robin, least-connections, or sticky sessions?&lt;/li&gt;
&lt;li&gt;How do newer trends‚Äîlike Kubernetes ‚Äîmap back to these patterns?&lt;/li&gt;
&lt;/ul&gt;
</content></entry><entry><title>Testing GitHub Copilot agent mode</title><link href="https://grahamknapp.com/blog/testing-github-copilot-agent-mode/" rel="alternate"/><updated>2025-08-23T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:74456b19-29a9-397e-bff8-fb20c41846dd</id><content type="html">&lt;p&gt;I tested GitHub Copilot agent mode in July 2025, setting Copilot to work online on different sized features - the workflow looks like this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Chat with Copilot online - ask it to open a PR to work on a specific feature. Copilot starts working in its own virtual machine on GitHub.&lt;/li&gt;
&lt;li&gt;30 minutes later I get an email saying the PR is ready for review - I read it online and ask for any corrections via github.com&lt;/li&gt;
&lt;li&gt;If and when I am happy with it I pull the branch to my PC, review, modify, fix, change.&lt;/li&gt;
&lt;li&gt;I push from my machine and merge to trunk&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Some stats:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;19 Pull requests opened against our main monorepo in 5 weeks. &lt;/li&gt;
&lt;li&gt;7 merged&lt;/li&gt;
&lt;li&gt;8 still open on the 31st of July (3 of those created on the final day)&lt;/li&gt;
&lt;li&gt;3 closed unmerged because they clearly didn't work or were not worth finishing&lt;/li&gt;
&lt;li&gt;1 closed because I reimplemented it more successfully on my dev PC&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example, I tasked Copilot with refactoring 3 instances of near-duplicate code into a common service and make some improvements to error handling on the refactored service. My experience of code review from the last 4 years definitely helps with this workflow - reviewing code from an agent is similar to reviewing colleagues' code except that I don't feel guilty about leaving a PR unread for more than a day. Those PRs still become stale however and merge conflicts are a pain if the agent changes overlap with other PRs.&lt;/p&gt;
&lt;p&gt;One challenge is that this makes it very easy to set Copilot working on easy to define low-impact work but that work still takes to review. It would be easy to get into the habit of doing lots of unimportant busy work with this workflow. I now want to explore how to use coding agents to achieve more ambitious changes, perhaps changes I would not take on individually because they lie near the limits of my current knowledge.&lt;/p&gt;
</content></entry><entry><title>Playing "In my bag..." with LLM agent templates</title><link href="https://grahamknapp.com/blog/playing-in-my-bag-with-llm-agent-templates/" rel="alternate"/><updated>2025-08-10T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:cf290955-f033-3438-9b23-06be592f5ec4</id><content type="html">&lt;p&gt;There's a memory game "In my bag..." where you pretend you have a list of things in your bag "In my bag I have a comb and a cat". The next person in the circle has to list all the same things and add one more at the end "In my bag I have a comb, a cat and a clock". The game ends when someone makes a mistake or gives up.&lt;/p&gt;
&lt;p&gt;It occurred to me that this is a great analogy for the templates used in LLM chatbots! Every time you chat with an LLM the LLM re-reads the whole history of the conversation before responding. This is why they get slower over time, particularly if they are making web searches, viewing images, using MCPs or other tools which add a lot of hidden tokens to the chat history.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/ollama/ollama/blob/main/docs/template.md"&gt;The ollama docs describe a simple template here&lt;/a&gt;&lt;/p&gt;
</content></entry><entry><title>Feature flags Pt 3: Deploy to some of the people all of the time, and all of the people some of the time!</title><link href="https://grahamknapp.com/blog/feature-flags-pt-3-djangocon/" rel="alternate"/><updated>2025-04-25T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:82e673e7-bb7a-3cd9-a9e9-9e701669897b</id><content type="html">&lt;p&gt;My talk from DjangoCon Europe 2025 - I discuss:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;What are Feature Flags ?&lt;/li&gt;
&lt;li&gt;Why use Feature Flags ?&lt;/li&gt;
&lt;li&gt;How Acernis uses Feature Flags&lt;/li&gt;
&lt;li&gt;Getting started with Feature Flags in Python and Django&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src="preview.jpg" alt="Preview image from the talk"&gt;&lt;/p&gt;
&lt;p&gt;I describe feature flags use for rapid development, deployment and learning in webapps and I argue that feature flags are not appropriate for permanent customization for users or groups of users - that is usually better placed in the data model or business logic of the app, not an arbitrary Boolean flag.&lt;/p&gt;
&lt;p&gt;Watch the talk here - &lt;a href="https://www.youtube.com/watch?v=gt19rN6HS6M"&gt;https://www.youtube.com/watch?v=gt19rN6HS6M&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="feature flags.pdf"&gt;Slides from the talk&lt;/a&gt;&lt;/p&gt;
</content></entry><entry><title>AI coding - stone soup</title><link href="https://grahamknapp.com/blog/ai-coding-stone-soup/" rel="alternate"/><updated>2025-03-01T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:b83bba08-b4a9-3c55-9540-b397e7562429</id><content type="html">&lt;p&gt;There's an old European folk tale of a man going into a village and asking for a pot and some water so he can make stone soup. Intrigued, the villagers give him a pot and some water and he boils it up. After a while he tastes it and says "not bad but it could use some onion - do you have some leftovers". The villagers give him a bit of onion and a few herbs whilst they are at it. It carries on like this until he has a delicious soup and the villagers are amazed that he did all that with just a pot of water and a stone.&lt;/p&gt;
&lt;p&gt;I love Copilot, Claude and all the good things but the iterations of GitHub issues, suggested actions, debugging and fixing in the newer tool previews often taste suspiciously like stone soup üòÖ ü™®üç≤ .&lt;/p&gt;
</content></entry><entry><title>TIL: Django caching doesn't cross versions</title><link href="https://grahamknapp.com/blog/til-django-caching-doesnt-cross-versions/" rel="alternate"/><updated>2025-02-11T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:e2071ca0-43cd-32c8-b6d8-84bafb9d6c7e</id><content type="html">&lt;p&gt;Reading into &lt;a href="https://github.com/jazzband/django-waffle/issues/546"&gt;this issue on Django-waffle&lt;/a&gt; 
I learned that Django uses pickle to store objects in its cache but does not guarantee that these objects
will remain valid between versions, so it &lt;a href="https://github.com/django/django/blob/47c837a1ff96ef1b10b44477a7a9f72283d12e83/django/db/models/base.py#L637"&gt;raises a &lt;code&gt;RuntimeWarning&lt;/code&gt;&lt;/a&gt; 
 when you access potentially stale objects.&lt;/p&gt;
&lt;p&gt;The Django docs recommend clearing the cache on upgrade, and this &lt;a href="https://stackoverflow.com/questions/5942759/best-place-to-clear-cache-when-restarting-django-server"&gt;Stackoverflow post&lt;/a&gt;
discusses ways of doing that.&lt;/p&gt;
</content></entry><entry><title>AI coding patterns: Language bridging</title><link href="https://grahamknapp.com/blog/ai-coding-patterns-language-bridging/" rel="alternate"/><updated>2025-02-10T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:81142eb0-cab4-36d5-880b-a30d0d15f014</id><content type="html">&lt;p&gt;A pattern I enjoy with Copilot or other AI coding tools is something I'm calling "Language bridging":&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt; Language bridging &lt;/strong&gt;: Write code to solve a problem in a language you know well, then 
use an AI to translate the code into the language you want or need to use.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src="language_bridging.png" alt="A bridge between Python and Typescript"&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LLMs help to bridge the gap between my knowledge of different programming languages&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;Steps&lt;/h3&gt;
&lt;p&gt;The pattern looks like this for me:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Write the code&lt;/strong&gt; in Python (the programming language I know best)&lt;/li&gt;
&lt;li&gt;[Optional, recommended] &lt;strong&gt;Simplify the code&lt;/strong&gt;, refactor into small functions, add comments&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Translate the code&lt;/strong&gt; with an AI - I usually use Claude 3 at the moment.&lt;/li&gt;
&lt;li&gt;[Strongly recommended for production code] Ask someone with better skills in the target language to carefully &lt;strong&gt;review the code&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;[Recommended for personal growth] &lt;strong&gt;Read the code&lt;/strong&gt; line by line, identify one or two subjects to learn more about.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I find that stage 2 - refactoring and commenting - improves the chances of success and makes it easier for me to understand the code after translation.&lt;/p&gt;
&lt;h3&gt;Use cases&lt;/h3&gt;
&lt;p&gt;I mainly use this for Proof Of Concept (POC) building, personal projects, one-off tools and for exploring ideas.  I don't find it efficient for general coding.&lt;/p&gt;
&lt;p&gt;I find it especially effective where I am combining a number of simple actions (cli commands, file parsing, data transformation, image manipulation, etc.) in a custom way.  LLMs are often very good at these simple tasks and they can combine them much more quickly than me in a programming language I don't use regularly.&lt;/p&gt;
</content></entry><entry><title>Real developers</title><link href="https://grahamknapp.com/blog/real-developers/" rel="alternate"/><updated>2025-02-08T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:2ccaa7f3-27aa-3953-83e5-141d6c2d2ab5</id><content type="html">&lt;p&gt;There's this myth we tell ourselves about &lt;em&gt;"Real developers"&lt;/em&gt; and especially &lt;em&gt;"this is why I am not a Real developer"&lt;/em&gt;. It got me thinking - is there actually a useful definition out there?&lt;/p&gt;
&lt;p&gt;Here is my best try:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;*A &lt;strong&gt;'Real Developer'&lt;/strong&gt; is someone who writes code or other instructions for a computer 
which run successfully and get something useful or delightful done in the real world&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This rules-out some computer science graduates and quite a few internet assholes who have not (yet) learned 
to write code which anybody regularly uses. It rules-in a lot of people who don't think of themselves as 
software developers but who actually write a lot of code or other software tools which they and their colleagues
use every day to get their job done.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://imgs.xkcd.com/comics/real_programmers.png" alt="Real programmers set the universal constants at the start such that the universe evolves to contain the disk with the data they want."&gt;&lt;/p&gt;
</content></entry><entry><title>2024 - My year in Open Source</title><link href="https://grahamknapp.com/blog/2024-my-year-in-open-source/" rel="alternate"/><updated>2025-02-07T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:ce48c6d2-f469-37c5-824e-5dd6072874b7</id><content type="html">&lt;p&gt;&lt;a href="https://github.com/dancergraham?tab=overview&amp;amp;from=2024-01-01&amp;amp;to=2024-12-31"&gt;Looking back on 2024&lt;/a&gt; here are some personal highlights:&lt;/p&gt;
&lt;h3&gt;Maintaining an established pypi package üì¶&lt;/h3&gt;
&lt;p&gt;Early in 2024 I took over maintenance of the very useful &lt;a href="https://pypi.org/project/pye57/"&gt;Python package pye57&lt;/a&gt; for 
reading and writing e57 format pointcloud files. I have been using it at work for several years and was 
worried that it was not being maintained, blocking upgrade of our project to Python 3.11. 
I had already started working on an alternative library, cleverly titled &lt;code&gt;e57&lt;/code&gt; - essentially I got in touch with 
the project maintainer, providing some evidence that I was a real human being not a sham account, 
many thanks to David Caron for creating the library and maintaining it for so many years, and for trusting
me to carry it on.&lt;/p&gt;
&lt;p&gt;In the first 6 months 6 months I and other contributors ensured that pye57 now supports Python 11 and 12 
and macOS is now supported (on apple silicon only). There are 3 or 4 new contributors beside myself 
with a few bug fixes, quality of life improvements, photo writing, and an update to a more recent version of libe57Format
I closed 10+ issues and saw some engagement from past contributors in the issue tracker and PR comments. 
I once released broken wheels to pypi and reverted them within a few hours. Wheels are now tested in ci before release.&lt;/p&gt;
&lt;h3&gt;Joining Jazzband üé∂üé∑&lt;/h3&gt;
&lt;p&gt;Looking for a &lt;a href="../tags/feature-flags/"&gt;feature flags&lt;/a&gt; library I came across &lt;a href="https://waffle.readthedocs.io/en/stable/"&gt;Django Waffle&lt;/a&gt;, 
which looked good but the ci tests were a couple of versions behind and the docs were broken and 
looked sparse and outdated, including some references to Django version 1!
I started contributing and after a rough start getting up to speed with other contributors' expectations of git workflow and
PR etiquette I made 9 contributions, mostly around the documentation and testing. 
This gave me enough confidence to adopt the library at work and I'm very happy with it so far.&lt;/p&gt;
&lt;h3&gt;Meetups and events üìÖüçï&lt;/h3&gt;
&lt;p&gt;I continued contributing to the &lt;a href="https://www.meetup.com/nantes-python-meetup/"&gt;Nantes Python Meetup&lt;/a&gt;, kicking off some
collaborations with other meetups in Nantes and I went to the Nantes React meetup twice as well, which was very nice. 
Unfortunately I couldn't make it to &lt;a href="https://www.pycon.fr/2024/"&gt;PyCon France in 2024&lt;/a&gt; but I submitted a proposal for DjangoCon Europe at the 
end of 2024 and I'm very happy to have &lt;a href="https://pretalx.evolutio.pt/djangocon-europe-2025/talk/KNLFS8/"&gt;been accepted&lt;/a&gt; and looking forward to visiting Dublin for the first time in 20
years.&lt;/p&gt;
&lt;h3&gt;Advent of Code üéÑüßëüèª‚ÄçüéÑ&lt;/h3&gt;
&lt;p&gt;I found the motivation and skilz to &lt;a href="https://github.com/dancergraham/advent_of_code_2024/tree/main/advent_of_code_2024"&gt;solve roughly the first half&lt;/a&gt; of the puzzles in this year's event. I was less motivated than in previous years but there were some fun challenges in there.&lt;/p&gt;
&lt;h3&gt;Misc. ‚ÅâÔ∏è&lt;/h3&gt;
&lt;p&gt;A few other highlights:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Contributing HTTP Status Codes to the &lt;a href="https://github.com/joke2k/faker"&gt;Faker library&lt;/a&gt; having been surprised not to find them already in there.&lt;/li&gt;
&lt;li&gt;Maintaining my rust-backed &lt;a href="https://pypi.org/project/e57/"&gt;e57 Python library&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Minor contribution to the upstream &lt;a href="https://crates.io/crates/e57"&gt;e57 rust library&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Adding e57 file support to a pointcloud visualisation library&lt;/li&gt;
&lt;li&gt;Adding the Result design pattern to my &lt;a href="https://github.com/dancergraham/HeadFirstDesignPatterns_python"&gt;Design Patterns repo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content></entry><entry><title>E57 file xml extractor</title><link href="https://grahamknapp.com/blog/e57-file-xml-tool/" rel="alternate"/><updated>2025-01-26T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:ad485480-4de0-3ee8-aa02-871f7e059be3</id><content type="html">&lt;p&gt;See the xml portion from the end of an &lt;code&gt;.e57&lt;/code&gt; pointcloud file. This contains information like the bounding box of the
pointcloud, the number of points and how the points and other information are organised in the file.&lt;/p&gt;
&lt;p&gt;I wrote it with a bit of help from Claude ai by describing what I wanted and pasting a description of the e57 file
format before doing a lot of debugging to get the entire xml section and then integrating it with my blog.&lt;/p&gt;
&lt;p&gt;I find the e57 file format a bit &lt;em&gt;wierd&lt;/em&gt; - it starts with a header including a file version number and an offset to the XML portion, 
which comes at the &lt;em&gt;end&lt;/em&gt; of the file so you need to read both ends of the file before you can understand the middle bit. So 
if you download the file you have to wait for it to finish downloading - you can't start to interpret or display the 
points and other data whilst streaming data.&lt;/p&gt;
&lt;p&gt;This tool is written in JavaScript and runs in your browser - no files are uploaded to any server (in fact this blog has no backend server - it
is a static web site - it is downloaded and runs entirely in your browser).&lt;/p&gt;
&lt;p&gt;&lt;div id="file-upload"&gt;
    &lt;label&gt;
        Select E57 File
        &lt;input type="file" id="e57-input" accept=".e57" style="display:none;"&gt;
    &lt;/label&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;div id="error" style="display:none;"&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;&lt;button class="clipboard-button" onclick="copyToClipboard()"&gt;Copy to Clipboard&lt;/button&gt;&lt;/p&gt;
&lt;pre id="xml-content" class="highlight"&gt;&lt;/pre&gt;&lt;script&gt;
    document.getElementById('file-upload').addEventListener('click', () =&gt; {
        document.getElementById('e57-input').click();
    });

    document.getElementById('e57-input').addEventListener('change', async (event) =&gt; {
        if (!event.target.files.length) {
            return;
        }
        const file = event.target.files[0];
        const errorDiv = document.getElementById('error');
        const xmlContentDiv = document.getElementById('xml-content');

        errorDiv.textContent = '';
        xmlContentDiv.textContent = '';

        try {
            const arrayBuffer = await file.arrayBuffer();
            const buffer = new Uint8Array(arrayBuffer);
            errorDiv.style.display = 'none';

            // Parse file header
            const fileHeader = {
                fileSignature: new TextDecoder().decode(buffer.slice(0, 8)),
                majorVersion: new DataView(buffer.buffer).getUint32(8, true),
                minorVersion: new DataView(buffer.buffer).getUint32(12, true),
                xmlPhysicalOffset: new DataView(buffer.buffer).getBigUint64(24, true)
            };

            // Validate file signature
            if (fileHeader.fileSignature !== 'ASTM-E57') {
                throw new Error('Not a valid E57 file');
            }

            // Extract XML section
            let xmlBytes = [];
            let offset = Number(fileHeader.xmlPhysicalOffset);

            while (offset &lt; buffer.length) {
                const pageStart = Math.floor(offset / 1024) * 1024;
                const pageEnd = Math.min(pageStart + 1020, buffer.length);  // Exclude 4-byte checksum
                const pageData = buffer.slice(pageStart, pageEnd);
                xmlBytes.push(...pageData.slice(offset % 1024));
                offset += (1024 - (offset % 1024));
            }
            // Convert XML bytes to string
            let xmlString = new TextDecoder().decode(new Uint8Array(xmlBytes));

            // Find the start of the XML declaration
            const xmlStart = xmlString.indexOf('&lt;?xml');
            if (xmlStart === -1) {
                throw new Error('No valid XML found');
            }

            // end at the first instance of &lt;/e57Root&gt;
            const xmlEnd = xmlString.indexOf('&lt;/e57Root&gt;');
            if (xmlEnd === -1) {
                throw new Error('No valid XML found');
            }

            xmlString = xmlString.slice(xmlStart, xmlEnd + 10);
            xmlContentDiv.textContent = xmlString;

        } catch (err) {
            errorDiv.textContent = err.message;
            errorDiv.style.display = 'block';
        } finally {
            event.target.value = '';
        }
    });

    function copyToClipboard() {
        const xmlContentDiv = document.getElementById('xml-content');
        const text = xmlContentDiv.innerText;

        const textarea = document.createElement('textarea');
        textarea.value = text;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);

        alert('Code copied to clipboard!');
    }
&lt;/script&gt;</content></entry><entry><title>Two's company, three's a crowd</title><link href="https://grahamknapp.com/blog/twos-company-threes-a-crowd/" rel="alternate"/><updated>2025-01-20T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:8586acd6-a0bf-36e0-989c-c158f546e510</id><content type="html">&lt;p&gt;My version of YAGNI - "You Ain't Gonna Need It" - is a rule of three: only spend time refactoring your code when you have repeated yourself 3 times. Don't aim for truly DRY code devoid of all repetition.&lt;/p&gt;
&lt;p&gt;I'm not saying not to apply SOLID design principles from the start - I definitely try to separate concerns, giving a single responsibility to a class or function and avoid, for instance, a single method handling file reading, data transformation and reporting.  This simplicity will make it much easier to refactor the code later.&lt;/p&gt;
&lt;p&gt;I am saying to avoid using sophisticated design patterns, architecture or abstractions before you have used of your code enough to know what is likely to change (and require encapsulation) and what will stay constant (creating a useful abstraction).&lt;/p&gt;
&lt;h2&gt;My recipe for success&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Write simple code, leaning on the &lt;strong&gt;S&lt;/strong&gt; from SOLID - separating code into small logical blocks&lt;/li&gt;
&lt;li&gt;When you find yourself repeating the same code 3 times, refactor it into a function or class&lt;/li&gt;
&lt;li&gt;Yes &lt;strong&gt;3.&lt;/strong&gt; When you have &lt;strong&gt;3&lt;/strong&gt; sufficiently different examples of the same pattern, reach for design patterns and modularisation.  Have fun. Don't be afraid to delete your existing code and start again using all you have learned. &lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Further reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/SOLID"&gt;Solid design principles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Design Patterns: elements of reusable object oriented software (Gang of Four)&lt;/li&gt;
&lt;li&gt;Head First Design Patterns : Standard reusable code patterns to help meet the solid principals&lt;ul&gt;
&lt;li&gt;&lt;a href="https://wickedlysmart.com/head-first-design-patterns"&gt;Book&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dancergraham/HeadFirstDesignPatterns_python"&gt;Sample python code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://talkpython.fm/episodes/show/18/python-anti-patterns-and-other-mistakes"&gt;Podcast on anti-patterns&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Conlin Durbin makes a similar point for front-end code in his article &lt;a href="https://dev.to/wuz/stop-trying-to-be-so-dry-instead-write-everything-twice-wet-5g33"&gt;Stop trying to be so DRY, instead Write Everything Twice (WET)&lt;/a&gt;.&lt;/p&gt;
</content></entry><entry><title>The Zen of Python: Gur Mra bs Clguba.</title><link href="https://grahamknapp.com/blog/the-zen-of-python-revisited/" rel="alternate"/><updated>2025-01-14T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:ffec70c8-4a7e-3cce-8bdd-3bd13c97e2ae</id><content type="html">&lt;p&gt;I love The Zen of Python - one of the delights of the language is typing &lt;code&gt;import this&lt;/code&gt; in a REPL and discovering this gem:&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;this&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;The Zen of Python, by Tim Peters&lt;/span&gt;

&lt;span class="go"&gt;Beautiful is better than ugly.&lt;/span&gt;
&lt;span class="go"&gt;Explicit is better than implicit.&lt;/span&gt;
&lt;span class="go"&gt;Simple is better than complex.&lt;/span&gt;
&lt;span class="go"&gt;Complex is better than complicated.&lt;/span&gt;
&lt;span class="go"&gt;Flat is better than nested.&lt;/span&gt;
&lt;span class="go"&gt;Sparse is better than dense.&lt;/span&gt;
&lt;span class="go"&gt;Readability counts.&lt;/span&gt;
&lt;span class="go"&gt;Special cases aren&amp;#39;t special enough to break the rules.&lt;/span&gt;
&lt;span class="go"&gt;Although practicality beats purity.&lt;/span&gt;
&lt;span class="go"&gt;Errors should never pass silently.&lt;/span&gt;
&lt;span class="go"&gt;Unless explicitly silenced.&lt;/span&gt;
&lt;span class="go"&gt;In the face of ambiguity, refuse the temptation to guess.&lt;/span&gt;
&lt;span class="go"&gt;There should be one-- and preferably only one --obvious way to do it.&lt;/span&gt;
&lt;span class="go"&gt;Although that way may not be obvious at first unless you&amp;#39;re Dutch.&lt;/span&gt;
&lt;span class="go"&gt;Now is better than never.&lt;/span&gt;
&lt;span class="go"&gt;Although never is often better than *right* now.&lt;/span&gt;
&lt;span class="go"&gt;If the implementation is hard to explain, it&amp;#39;s a bad idea.&lt;/span&gt;
&lt;span class="go"&gt;If the implementation is easy to explain, it may be a good idea.&lt;/span&gt;
&lt;span class="go"&gt;Namespaces are one honking great idea -- let&amp;#39;s do more of those!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It neatly captures the way in which Guido van Rossum and a group of Pythonistas thought about 
the language, constructed and used it, sharing thoughts on user forums in in-person meetings.&lt;/p&gt;
&lt;p&gt;But I think it is particularly well paired with the &lt;a href="https://github.com/python/cpython/blob/main/Lib/this.py"&gt;&lt;em&gt;source code&lt;/em&gt;&lt;/a&gt; 
of this module, which is notable for breaking almost all of the suggestions from the poem
in a huge kludge of unreadable script with ROT-13 text and single-letter variable names:&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;this&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;inspect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getsource&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;Gur Mra bs Clguba, ol Gvz Crgref&lt;/span&gt;

&lt;span class="s2"&gt;Ornhgvshy vf orggre guna htyl.&lt;/span&gt;
&lt;span class="s2"&gt;Rkcyvpvg vf orggre guna vzcyvpvg.&lt;/span&gt;
&lt;span class="s2"&gt;Fvzcyr vf orggre guna pbzcyrk.&lt;/span&gt;
&lt;span class="s2"&gt;Pbzcyrk vf orggre guna pbzcyvpngrq.&lt;/span&gt;
&lt;span class="s2"&gt;Syng vf orggre guna arfgrq.&lt;/span&gt;
&lt;span class="s2"&gt;Fcnefr vf orggre guna qrafr.&lt;/span&gt;
&lt;span class="s2"&gt;Ernqnovyvgl pbhagf.&lt;/span&gt;
&lt;span class="s2"&gt;Fcrpvny pnfrf nera&amp;#39;g fcrpvny rabhtu gb oernx gur ehyrf.&lt;/span&gt;
&lt;span class="s2"&gt;Nygubhtu cenpgvpnyvgl orngf chevgl.&lt;/span&gt;
&lt;span class="s2"&gt;Reebef fubhyq arire cnff fvyragyl.&lt;/span&gt;
&lt;span class="s2"&gt;Hayrff rkcyvpvgyl fvyraprq.&lt;/span&gt;
&lt;span class="s2"&gt;Va gur snpr bs nzovthvgl, ershfr gur grzcgngvba gb thrff.&lt;/span&gt;
&lt;span class="s2"&gt;Gurer fubhyq or bar-- naq cersrenoyl bayl bar --boivbhf jnl gb qb vg.&lt;/span&gt;
&lt;span class="s2"&gt;Nygubhtu gung jnl znl abg or boivbhf ng svefg hayrff lbh&amp;#39;er Qhgpu.&lt;/span&gt;
&lt;span class="s2"&gt;Abj vf orggre guna arire.&lt;/span&gt;
&lt;span class="s2"&gt;Nygubhtu arire vf bsgra orggre guna *evtug* abj.&lt;/span&gt;
&lt;span class="s2"&gt;Vs gur vzcyrzragngvba vf uneq gb rkcynva, vg&amp;#39;f n onq vqrn.&lt;/span&gt;
&lt;span class="s2"&gt;Vs gur vzcyrzragngvba vf rnfl gb rkcynva, vg znl or n tbbq vqrn.&lt;/span&gt;
&lt;span class="s2"&gt;Anzrfcnprf ner bar ubaxvat terng vqrn -- yrg&amp;#39;f qb zber bs gubfr!&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;65&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;97&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;26&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;chr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;chr&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;26&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content></entry><entry><title>Feature flags Pt 2: Start small</title><link href="https://grahamknapp.com/blog/feature-flags-pt-2-start-small/" rel="alternate"/><updated>2025-01-05T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:9017f154-c8c8-3289-b5de-3a455f721619</id><content type="html">&lt;p&gt;In our team we started with the smallest possible shareable system - a flags namespace in our front-end code. We later adopted an existing open source library in the back end.  This got me thinking - what is the smallest possible feature flag system?&lt;/p&gt;
&lt;p&gt;&lt;img src="640px-Britains_Deetail_Waterloo_British_Officer_with_Sword_and_Flag.jpg" alt="Britains Deetail Waterloo British Officer with Sword and Flag by Sclight"&gt;&lt;/p&gt;
&lt;p&gt;Here's a Hello World example...&lt;/p&gt;
&lt;h3&gt;The world without flags&lt;/h3&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# greet.py&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, world!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let's test it:&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;python -m greet&lt;/span&gt;
&lt;span class="go"&gt;Hello, world!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Add a flag&lt;/h3&gt;
&lt;p&gt;I have a great idea for a new flagship feature - the script will ask the user's name and greet them personally!&lt;/p&gt;
&lt;p&gt;What's the easiest way to add feature flags to a python script? 
For demonstration purposes we will just add a command line argument but this could be done 
with an environment variable or by looking at the user id or configuration.
We put the flag-specific code inside an if-statement and keep common code outside the flagged block:&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# greet1.py&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;sys&lt;/span&gt;

&lt;span class="n"&gt;personal_flag&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;personal&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;personal_flag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;greeted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;What&amp;#39;s your name? &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;greeted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;World&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;greeted&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let's run this new feature up the flagpole and see who salutes:&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;&amp;gt; python -m greet1&lt;/span&gt;
&lt;span class="go"&gt;Hello, world!&lt;/span&gt;
&lt;span class="go"&gt;&amp;gt; python -m greet1 personal&lt;/span&gt;
&lt;span class="go"&gt;What&amp;#39;s your name? Graham&lt;/span&gt;
&lt;span class="go"&gt;Hello, Graham!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Remove the flag&lt;/h3&gt;
&lt;p&gt;I love this feature, the team loves it - we have tested it in production by activating the flag and our users love it too. 
Now it's time to remove the flag and tidy up the code:&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# greet2.py&lt;/span&gt;
&lt;span class="n"&gt;greeted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;What&amp;#39;s your name? &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello, &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;greeted&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That's much cleaner - glad I removed the feature flag!  Testing it...&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;&amp;gt; python -m greet2&lt;/span&gt;
&lt;span class="go"&gt;What&amp;#39;s your name? Graham&lt;/span&gt;
&lt;span class="go"&gt;Hello, Graham!&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Perfect!&lt;/p&gt;
</content></entry><entry><title>Feature flags Pt 1: Faster feature development with flags.</title><link href="https://grahamknapp.com/blog/feature-flags-pt-1-whats-so-great-about-feature-flags/" rel="alternate"/><updated>2025-01-02T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:d11df3de-fd99-30b2-ae4f-b231102cf58b</id><content type="html">&lt;p&gt;The greatest accelerator of my team's work last year was adopting feature flags. With flags we ship features faster, more confidently and with less stress. We have fewer merge conflicts despite frequently working together on the same part of the code base.&lt;/p&gt;
&lt;p&gt;&lt;img src="Sbandieratori_3.JPG" alt="Men in colourful mediaeval costumes throwing huge flags into the air in a central Italian flagged square, thousands of onlookers in the background"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Saracen Joust in Arezzo: Exhibition of the flag-wavers from Archivio Istituzione Giostra del Saracino del Comune di Arezzo&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In this post I will share the advantages and potential pain points we have seen. For context we are a team of 5 developers working together on a back end api and front end web app for business users. We have moved towards &lt;strong&gt;trunk-based development&lt;/strong&gt;, avoiding long-running branches.&lt;/p&gt;
&lt;h3&gt;What are Feature Flags ?&lt;/h3&gt;
&lt;p&gt;A feature flag lets you turn parts of your code on or off for some or all users, or based on other conditions such as date, time, region, etc.&lt;/p&gt;
&lt;p&gt;‚úÖ In this post I am talking about short-lived flags used during development.&lt;/p&gt;
&lt;p&gt;‚ùå I am not talking about permanent aspects of your app such as customisations for individuals or groups of users.&lt;/p&gt;
&lt;h3&gt;Advantages&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Fewer merge conflicts üéå&lt;/strong&gt;. This is the biggest plus: Hiding features which are incomplete or not yet launched behind a flag lets you merge more frequently safe in the knowledge that the new feature is not going to break existing code. By sharing more often, avoiding long-running branches, you hugely reduce the risk of big merge conflicts&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Earlier collaboration üè≥Ô∏è‚Äçüåà&lt;/strong&gt;. Sharing your code earlier means you can start collaborating quickly with other developers, product, sales and designers. There is nothing better for discussion and collaboration than working code.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Early feedback&lt;/strong&gt;. By turning on features for trusted customers and partners you can get early feedback on the design and functionality.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Increased productivity&lt;/strong&gt;. All of this means you are shipping impactful changes earlier with less wasted effort. &lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Pain points&lt;/h3&gt;
&lt;p&gt;Sounds too good to be true?  There is no such thing as a free lunch - here are some possible downsides:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Upfront investment&lt;/strong&gt; It takes time to develop a feature flag system or adopt an external solution and you need to convince the team that the effort is worth it. I hope this blog post helps with that! Adopting feature flags may imply changes to your branching, code review, deployment and ci / cd system. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Complexity&lt;/strong&gt; Each flag adds a new code path - be wary of layering complexity or nesting flags in complex ways. Creating, updating and deleting each flag takes time so do not add them unnecessarily for small features.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Removal&lt;/strong&gt; At some point the flag code needs to be removed. Avoid keeping unused features behind deactivated flags or accepted features inside permanently active flags "just in case".&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Recommendations&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Start small&lt;/strong&gt; In our team we started with the smallest possible shareable system - a flags namespace in our front-end code. We later adopted an existing open source library in the back end.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Work together&lt;/strong&gt;. Ensure that everyone is adopting the system where appropriate, discuss any challenges as a team and look for solutions. Change course as necessary. &lt;/li&gt;
&lt;/ul&gt;
</content></entry><entry><title>Result pattern - An exceptional way to handle errors</title><link href="https://grahamknapp.com/blog/result-pattern-an-exceptional-way-to-handle-errors/" rel="alternate"/><updated>2024-12-30T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:302fe459-918c-3f5d-81f4-f863bb38eeb5</id><content type="html">&lt;p&gt;People often say that in Python you should use exceptions - "Easier to Ask Forgiveness than Permission" (EAFP) over guard clauses - "Look Before You Leap" (LBYL), but the Result design pattern - returning an object which explicitly states whether the operation succeeded is a useful alternative where error handling is required and, as I learned by exploring in more depth, it can be compatible with both approaches.&lt;/p&gt;
&lt;p&gt;As my &lt;a href="https://github.com/dancergraham/HeadFirstDesignPatterns_python"&gt;design patterns repo&lt;/a&gt; approaches &lt;code&gt;100‚≠ê&lt;/code&gt; on GitHub I decided to add the &lt;a href="https://github.com/dancergraham/HeadFirstDesignPatterns_python/tree/main/extra_result"&gt;Result design pattern&lt;/a&gt; to the mix&lt;/p&gt;
&lt;h2&gt;EAFP vs LBYL&lt;/h2&gt;
&lt;p&gt;or &lt;em&gt;Graham plays with GitHub Code Search&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Prompted by &lt;a href="https://fosstodon.org/@CodenameTim/113730836308245068"&gt;a post on Mastodon&lt;/a&gt;
I looked a bit more into which patterns people are using for error handling
specifically for attribute lookup: I'm surprised to see twice as many
references to &lt;a href="https://github.com/search?type=code&amp;amp;auto_enroll=true&amp;amp;q=hasattr+language%3APython"&gt;hasattr&lt;/a&gt;
as for &lt;a href="https://github.com/search?type=code&amp;amp;auto_enroll=true&amp;amp;q=except+AttributeError+language%3APython+"&gt;"except AttributeError"&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;and not only for dynamic lookups but also for general attribute search, so a win for LBYL vs EAFP style with Python, despite the latter often being recommended ?&lt;/p&gt;
</content></entry><entry><title>Ma reconversion dans la tech</title><link href="https://grahamknapp.com/blog/ma-reconversion-dans-la-tech/" rel="alternate"/><updated>2024-11-08T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:52be49f1-17ed-39cd-8a6c-da9436ba50d6</id><content type="html">&lt;p&gt;En novembre 2011 j'ai eu l'opportunit√© de parler de ma reconversion du monde du b√¢timent vers le m√©tier de d√©veloppeur informatique avec les apprenantes de l'Ada Tech School, Nantes. J'ai parl√© de ma d√©couverte de la programmation a partir de 2015 dans mon travail d'ing√©nieur chef de projet au CSTB, mon parcours de formation, mes craintes et √†-prioris par rapport au monde de l'informatique et la r√©alit√© de mon quotidien au startup Acernis.&lt;/p&gt;
&lt;p&gt;C'√©tait sympa √†¬†faire - j'encourage tout le monde de faire ce type d'exercice avant qu'il soit trop tard pour se remettre dans la position de d√©butant sur le chemin.¬†Bon courage √† toutes les personnes qui se trouvent sur ce type de chemin en ce moment!&lt;/p&gt;
</content></entry><entry><title>City Modelling with Generative AI: Tool or toy?</title><link href="https://grahamknapp.com/blog/city-modelling-with-gen-ai/" rel="alternate"/><updated>2023-01-02T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:5e7cfed4-4a04-390f-9118-08b122fcf8b0</id><content type="html">&lt;p&gt;AI tools such as Chat-Gpt (text generation) and Dall-E (image generation) are making impressive leaps, allowing people to rapidly generate text, code and images from simple input prompts. The next frontier in generative AI may be 3D modelling, and OpenAI recently released the open source 3D modelling software Point¬∑E. Could computer games, films and even architecture use these techniques to replace or improve manual city modelling?&lt;/p&gt;
&lt;p&gt;&lt;img src="33_3D_models.jpg" alt="33 3D mesh models, each generated from the text prompt &amp;quot;a buildng&amp;quot;‚Äã
"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;33 3D mesh models, each generated from the text prompt "a buildng"‚Äã&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Point¬∑E first uses a text to image diffusion model to generate a single image from a text prompt and then passes this image into a second diffusion model to create a 3D point cloud. And it is blazing quick compared to other approaches, creating a 3D point cloud from text in 2 minutes on the GPU of my laptop (a modest GeForce 1650). The provided code includes a method for converting the point cloud into a surface mesh. This works well for some models but struggles with fine details such as cables and grids.&lt;/p&gt;
&lt;p&gt;&lt;img src="building_mesh.jpg" alt="3D render of a tall square building with a pointed roof"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Polygon mesh model generated from the text prompt "a building"&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;So how does it cope with generating buildings? The results are mixed and, as with AI image generation, it is a good idea to create multiple images and choose between them. I'm quite impressed by the diversity of forms created from slender towers to simple cubes to domed structures.&lt;/p&gt;
&lt;p&gt;My early experiments suggest that Point¬∑E is best at creating individual "bounded" boxy objects such as round fruit, cars, etc. Long linear objects such as bridges seem to be harder as they can have indistinct start and end points and may be composed of slender elements which do not convert neatly to a polygon mesh.&lt;/p&gt;
&lt;p&gt;I downloaded the Python source code and used it to generate over 30 point clouds from the same input text "a building" and got a very wide range of results: all of these are shown in greyscale in the title image at the top of this page.&lt;/p&gt;
&lt;h3&gt;Curious colours&lt;/h3&gt;
&lt;p&gt;Rendered image of two buildings with blue-green walls and brown rooves
polygon mesh model generated from the text prompt "a building"
Whilst most of the generated buildings appear with sober colours : mostly grey, brown or tan, some have strange colour combinations with blue or green walls and, sometimes, red rooves. It looks like some additional colour prompting or recolouring the finished output may be needed.&lt;/p&gt;
&lt;h3&gt;Legal and ethical issues&lt;/h3&gt;
&lt;p&gt;The AI model is trained on a data set of models and images made by real people but the authors provide no information or guarantees on respect for copyright and licensing of the original works. Users should be made aware of the risks of bizarre or even dangerous (for some applications) outputs. Prejudice against and lack of representation of disadvantaged groups is likely to be present in available datasets and will probably appear in some form in the outputs, as it does with text and image generation techniques.&lt;/p&gt;
&lt;h3&gt;Tool or toy ?&lt;/h3&gt;
&lt;p&gt;I've had a lot of fun experimenting with this but could it be useful in the professional world? Clearly the results so far are pretty limited but here are some ideas for real-world use cases as the AI tech and associated tools develop:&lt;/p&gt;
&lt;p&gt;&lt;img src="building_pointcloud.jpg" alt="A tall yellow building with a white upper section in front of a green and blue strip"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;pointcloud generated from the text prompt "a building"&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Computer games and film designers could use these techniques to generate unique virtual worlds. Careful prompt selection, colouring and surface texture choices could create dramatic effects with limited human intervention. First draft storybook models could be largely AI generated.&lt;/li&gt;
&lt;li&gt;Architects and urban physicists could use generative AI to create surrounds models for buildings surrounding a new planned building or masterplan. Whilst some detail may be needed on the planned building, in some cases the surrounds are only needed to set the project in an urban context, often no 3D model is available for the surroundings and the actual building forms may not be required.&lt;/li&gt;
&lt;li&gt;Generative design can give inspiration or baseline models for professional cad modellers. This is particularly appealing because most 3D design software needs good quality graphics cards. Those graphics cards could be put to use overnight generating dozens or hundreds of candidate 3D models, which the modeller could select from for the following day's work; recombining, reworking and colouring the models, just as professional artists and illustrators today use Dall-E to assist their own artistic creation.&lt;/li&gt;
&lt;li&gt;Generating 3D models of real buildings from photos: Point¬∑E can be seeded from text or from an image.&lt;/li&gt;
&lt;li&gt;Generating 3D point clouds as inputs to train specialist classifiers. Specialist applications abound for point cloud scans and data sets are needed for testing and training purposes. Generative approaches could be useful here, particularly for simple classifiers which may not need very large training data sets.&lt;/li&gt;
&lt;/ul&gt;
</content></entry><entry><title>Bookmark: Python Machine Learning by Sebastian Raschka &amp; Vahid Mirjalili</title><link href="https://grahamknapp.com/blog/bookmark-python-machine-learning-by-sebastian-raschka-and-vahid-mirjalili/" rel="alternate"/><updated>2021-09-14T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:18a32337-4d64-3067-940e-d0057966eb1a</id><content type="html">&lt;p&gt;As a python programmer with a scientific background I found this to be a really useful primer on all aspects of machine learning and a great overview of the main python libraries for machine learning.&lt;/p&gt;
&lt;h3&gt;‚Äã Key Ideas / Takeaways&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;The book covers three main types of machine learning which it categorises as Supervised learning, Unsupervised learning and Reinforcement learning.&lt;/li&gt;
&lt;li&gt;Python is used to illustrate the core algorithms in each section, for instance a perceptron implementation is given in Python.&lt;/li&gt;
&lt;li&gt;The authors then go on to show how to use the methods in Python with the most popular libraries and frameworks. &lt;/li&gt;
&lt;li&gt;The main libraries used are scikit-learn and TensorFlow. &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The lack of Pytorch coverage is the most glaring omission - will there be a 4th edition ?&lt;/p&gt;
&lt;h3&gt;What stuck with me&lt;/h3&gt;
&lt;p&gt;I learn much more when I follow the examples given - I felt that penny-drop moment regularly as I went through the examples, seeing the matplotlib plots open up and then rerunning them to get slightly different results. The combination of low-level implementations in Python followed by higher-level framework use was particularly powerful.&lt;/p&gt;
&lt;p&gt;&lt;img src="iris_dataset.png" alt="Logistic regression fit to the Iris data set"&gt;&lt;/p&gt;
&lt;p&gt;The dimensionality reduction cases were particularly striking to me - I have frequently had to deal with large data sets in the wind engineering world whether it be multiple decades of wind speed and direction data or billions of data points from wind tunnel testing. When analysing such data looking for extreme values with life safety implications you become very interested in efficient ways to compress the data whilst making it easier to work with but without compromising on accuracy in the extreme values. Classifiers trained on average or normal circumstances are not very useful when trying to ensure a 150m building will resist the storm of the century.&lt;/p&gt;
&lt;h3&gt;The three types of machine learning&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Supervised learning covers, for instance, linear regression, decision trees and other classifiers based on labelled data&lt;/li&gt;
&lt;li&gt;Unsupervised learning covers techniques like clustering and dimensionality reduction&lt;/li&gt;
&lt;li&gt;Reinforcement learning involves an agent acting in its environment and receiving a reward or punishment. &lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Limitations&lt;/h3&gt;
&lt;p&gt;The whole field of machine learning is moving on so quickly that I don't know whether I will come back to this reference for the framework examples but some of the techniques never get old and there are useful techniques throughout.&lt;/p&gt;
&lt;p&gt;One limitation is the shortage of good graphics through the book so I think it would be well paired with a good text on data visualisation. I never get tired of poring over graphics like the scatterplot matrix, looking for insights and patterns which the raw statistics don't show you.&lt;/p&gt;
&lt;p&gt;&lt;img src="scatterplot_matrix.png" alt="Matrix of scatterplots showing various correlations and patterns"&gt;&lt;/p&gt;
</content></entry><entry><title>üéºTrouver un musicoth√©rapeuteüéº</title><link href="https://grahamknapp.com/blog/trouver-un-musicotherapeute/" rel="alternate"/><updated>2021-07-20T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:e1cffa09-0b48-344d-8be2-f44e7416933c</id><content type="html">&lt;p&gt;Ma femme est non seulement une superbe musicienne mais aussi une musicoth√©rapeute : elle soigne les gens, ou les aide √† se soigner eux-m√™mes, avec de la musique!&lt;/p&gt;
&lt;p&gt;J'ai cr√©e cette &lt;a href="https://dancergraham.github.io/blog/trouver-un-musicotherapeute/musicotherapeutes.html"&gt;carte des musicoth√©rapeutes fran√ßais&lt;/a&gt; avec la m√©thode suivante:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Scrape le &lt;a href="https://www.musicotherapie-federationfrancaise.com/trouver-un-musicotherapeute/"&gt;site web de la F√©d√©ration Fran√ßaise de Musicoth√©rapie&lt;/a&gt; avec Requests et Beautiful Soup&lt;/li&gt;
&lt;li&gt;G√©ocoder les addresses de tous les musicoth√©rapeutes via OSM (cette partie prend plusieurs minutes)&lt;/li&gt;
&lt;li&gt;Cr√©er une carte avec un marqueur par musicoth√©rapeute avec Folium.&lt;/li&gt;
&lt;li&gt;Enregistrer la carte sous format html&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;J'utilise la fonction suivantes pour g√©n√©rer mes tags HTML pour les marqueurs:&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;tagged&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="nb"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;gt;&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;gt;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Voici &lt;a href="https://github.com/dancergraham/carte_musicotherapeutes"&gt;le script complet sous forme de Jupyter Notebook&lt;/a&gt;.&lt;/p&gt;
</content></entry><entry><title>Fail fast - coder sereinement : Tests dans Jupyter</title><link href="https://grahamknapp.com/blog/fail-fast-coder-sereinement-tests-dans-jupyter/" rel="alternate"/><updated>2021-06-14T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:a3bc8bc0-c602-3115-9247-bacb2538ee51</id><content type="html">&lt;p&gt;Following the "fail fast" principal I have found it really useful when coding engineering and data science code in Jupyter to follow this pattern:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Write the code in a Jupyter notebook - this is a great option for scientific and technical computing as it lets you combine code, visualisation and documentation all in the same place.&lt;/li&gt;
&lt;li&gt;Find independent sample calculations from text books or other commonly used tools - the key is that the examples should not be generated from your own code.&lt;/li&gt;
&lt;li&gt;Add sample calculations with assert statements &lt;strong&gt;in the same cell as the function definition&lt;/strong&gt; to demonstrate that the function works.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This last point is the key to the method I suggest here - the tests are run every time you update your definition but if the test is slow it will only be run the first time you reopen the notebook, once you are happy with the function you can reuse it without re-running the tests&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/dancergraham/fail_fast"&gt;https://github.com/dancergraham/fail_fast&lt;/a&gt;&lt;/p&gt;
</content></entry><entry><title>Aerodynamic Behaviour and Structural Safety of Tower Cranes</title><link href="https://grahamknapp.com/blog/wind-and-tower-cranes/" rel="alternate"/><updated>2021-05-18T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:9d96bc50-93ba-32ae-8c4f-92f8ef9df3aa</id><content type="html">&lt;p&gt;Upon moving to work at the French national scientific research organisation for the built environment, CSTB, 
I was surprised to see the attention to detail in tower crane studies - looking at the risk of strong winds, construction site 
exposure and swirling winds potentially setting tower cranes rotating.&lt;/p&gt;
&lt;p&gt;Following some &lt;a href="https://www.linkedin.com/posts/windengineer_souffleries-atmosph%C3%A9riques-stabilit%C3%A9-des-activity-6498189400827138048-1ipc/"&gt;LinkedIn posts&lt;/a&gt; and academic articles on the subject I was invited by the UK Wind Engineering Society to give an online talk.
I gave some of the history of the subject, the key factors influencing risk levels and the methods used by the CSTB and
by French insurers to assess and reduce risk levels.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.ice.org.uk/events/recorded-lectures/aerodynamic-behaviour-and-structural-safety-of-tower-cranes"&gt;üì∫Watch here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="cstb_slide.png" alt="Slide from the talk showing CFD streamlines illustrating wind flow between tall buildings and wind acceleration and sheltering behind the corner of a rectangular building"&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.windengineering.org.uk/events/aerodynamic-behaviour-and-structural-safety-of-tower-cranes/"&gt;Announcement&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Abstract&lt;/h3&gt;
&lt;p&gt;The Lothar and Martin winter storms of 1999 were a wake-up call for the French construction industry : two particularly violent winter storms swept the country in the space of several days causing multiple tower cranes to collapse.&lt;/p&gt;
&lt;p&gt;This led to a long-term research project at the CSTB and a new methodology for the study of dynamic stability of tower cranes including desk study and wind tunnel analysis methods to identify and mitigate the risk of crane autorotation due to surrounding buildings and to quantify dynamic loads on the crane and its foundations. This method is underpinned by the national site-safety certification and insurance system.&lt;/p&gt;
&lt;p&gt;This talk covers the main technical considerations, the different techniques used as well as the legal framework in which it operates.&lt;/p&gt;
</content></entry><entry><title>En attendant la PyConFr (02/2021) ‚Äî Traitement des r√©sultats d‚Äôessai en soufflerie</title><link href="https://grahamknapp.com/blog/en-attendant-la-pyconfr-022021-traitement-des-resultats-dessai-en-soufflerie/" rel="alternate"/><updated>2021-02-18T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:addec5bf-20ec-3249-8283-0cb467a83c6b</id><content type="html">&lt;p&gt;Un r√©sum√© de mes exp√©riences de l'utilisation de Python en √©quipe d'ing√©nierie du vent &lt;a href="https://pyvideo.org/en-attendant-la-pyconfr-2020-2021/traitement-des-resultats-dessai-en-soufflerie.html"&gt;https://pyvideo.org/en-attendant-la-pyconfr-2020-2021/traitement-des-resultats-dessai-en-soufflerie.html&lt;/a&gt;&lt;/p&gt;
</content></entry><entry><title>Game of life in Rhino 3D</title><link href="https://grahamknapp.com/blog/game-of-life-in-rhino-3d/" rel="alternate"/><updated>2020-12-18T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:9ba0abda-94f8-3f8a-b725-7397ecdece2d</id><content type="html">&lt;p&gt;Hello.&lt;/p&gt;
&lt;p&gt;Prompted by this year‚Äôs Advent Of Code challenge I have implemented a 3D version of the game of life in Python in Rhino 7.&lt;/p&gt;
&lt;p&gt;Here are some images renders from individual steps in my solution, followed by the code I used to generate them.&lt;/p&gt;
&lt;p&gt;&lt;img src="step-5.jpeg" alt="A rendered 3D image of dozens of white spheres, densely packed, against a white background"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="step-3.jpeg" alt="A rendered 3D image of dozens of white spheres, smaller and densely packed, against a white background"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="step-4.jpeg" alt="A rendered 3D image of dozens of white spheres, more sparsely packed, against a white background"&gt;&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;rhinoscriptsyntax&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;rs&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;Rhino&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;itertools&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;permutations&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;collections&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;conway_cubes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rounds&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnableRedraw&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="c1"&gt;# Example from the puzzle&lt;/span&gt;
    &lt;span class="n"&gt;state&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;.#.&lt;/span&gt;
&lt;span class="s2"&gt;..#&lt;/span&gt;
&lt;span class="s2"&gt;###&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class="n"&gt;new_cubes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="c1"&gt;# Build the starting grid&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;row&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;splitlines&lt;/span&gt;&lt;span class="p"&gt;()):&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;row&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;cell&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;#&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;new_cubes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="c1"&gt;# Initialise sets and lists &lt;/span&gt;
    &lt;span class="n"&gt;old_spheres&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="c1"&gt;# 27 neighbours&lt;/span&gt;
    &lt;span class="n"&gt;neighbouring&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;permutations&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt; 
    &lt;span class="c1"&gt;# a cube is not its own neighbour&lt;/span&gt;
    &lt;span class="n"&gt;neighbouring&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remove&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; 

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="nb"&gt;round&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rounds&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;cubes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new_cubes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DeleteObjects&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;old_spheres&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;neighbours&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;defaultdict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;old_spheres&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;

        &lt;span class="c1"&gt;# Draw cubes and identify neighbours&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;cube&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;cubes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;old_spheres&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;AddSphere&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;neighbouring&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;neighbours&lt;/span&gt;&lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                            &lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                            &lt;span class="n"&gt;cube&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                            &lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="n"&gt;new_cubes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Redraw&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

        &lt;span class="c1"&gt;# Create cubes for next round&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;neighbours&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iteritems&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;cubes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                    &lt;span class="n"&gt;new_cubes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;new_cubes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;location&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EnableRedraw&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt;  &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;conway_cubes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rounds&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content></entry><entry><title>RhinoPython: may the source be with you!</title><link href="https://grahamknapp.com/blog/rhinopython-may-the-source-be-with-you/" rel="alternate"/><updated>2019-05-12T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:8be1b867-4b6b-3f51-8b57-26176a960333</id><content type="html">&lt;p&gt;Hello everyone,&lt;/p&gt;
&lt;p&gt;I wrote a script to help me code in python and learn RhinoCommon and decided to share it with you üòú&lt;/p&gt;
&lt;p&gt;As you may know, the rhinoscriptsyntax library is written in Python and uses rhinocommon functions, also in Python, under the hood. In order to look up the underlying code you can open up the full python file, you can use the inspect module or you can save the script below to your computer and run it each time you want to look up a particular function. For instance if you search for ‚Äòbounding‚Äô you get the following options:&lt;/p&gt;
&lt;p&gt;&lt;img src="rhinopython_source_0.png" alt="Search and select dialog box for library function"&gt;&lt;/p&gt;
&lt;p&gt;And by clicking on the 3rd option you get the underlying source code, which you can read in the box, copy elsewhere, ‚Ä¶&lt;/p&gt;
&lt;p&gt;&lt;img src="rhinopython_source_1.png" alt="Source code view for library function"&gt;&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;inspect&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;getsource&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;getmembers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;isfunction&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;rhinoscriptsyntax&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;rs&lt;/span&gt;

&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot; Script to view the source code for rhinoscript &lt;/span&gt;
&lt;span class="sd"&gt;modules in Rhino 5 + 6 By Graham Knapp for personal &lt;/span&gt;
&lt;span class="sd"&gt;use and for the McNeel Discourse forums&lt;/span&gt;
&lt;span class="sd"&gt;13/6/2019&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;get_source&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;search_term&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;StringBox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="s1"&gt;&amp;#39;Function name to search for&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rhinoscriptsyntax&amp;#39;&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;search_term&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;
    &lt;span class="c1"&gt;# (tuples of name, fuction)&lt;/span&gt;
    &lt;span class="n"&gt;functions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;getmembers&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                 &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;isfunction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                 &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;search_term&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()}&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;
    &lt;span class="n"&gt;selected&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ListBox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;keys&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
                          &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rhinoscriptsyntax&amp;#39;&lt;/span&gt;
                          &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;selected&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;

    &lt;span class="n"&gt;the_source&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;getsource&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;functions&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;selected&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    &lt;span class="n"&gt;box_result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EditBox&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;the_source&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Press OK to copy to clipboard&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Use the source&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;box_result&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ClipboardText&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;box_result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;box_result&lt;/span&gt;


&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;get_source&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
</content></entry><entry><title>Here comes the sun</title><link href="https://grahamknapp.com/blog/here-comes-the-sun/" rel="alternate"/><updated>2019-03-23T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:10cf9d03-4180-320e-9cd9-85f00d81579f</id><content type="html">&lt;p&gt;I spend too much of my life sitting alone in an office working on my conputer or looking at my smartphone. My regular dose of fresh air comes from my bike - I ride to work and back regularly - but I also enjoy getting out into the garden when I can. Trouble is, I dont really &lt;em&gt;enjoy&lt;/em&gt; gardening! I do get a lot  of satisfaction from pruning the trees and shrubs, especially if it involves some climbing and as a result we now have an enormous pile of branches, leaves and twigs in the bottom of the garden. I recently found a new activity which satisfies my creative side and starts to diminish the stack o' cuttings : building 'dead hedge' style walls and fences.&lt;/p&gt;
&lt;p&gt;&lt;img src="garden03.png" alt="garden03"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="garden02.png" alt="garden02"&gt;&lt;/p&gt;
&lt;p&gt;First I sharpen a set of stakes and drive them into the ground, then I weave branches beween the stakes and finally I stuff twigs and leaves between the branches.  I always end up full of splinters with a big grin on my face.&lt;/p&gt;
&lt;p&gt;&lt;img src="garden04.png" alt="garden04"&gt;&lt;/p&gt;
&lt;h2&gt;Before and after&lt;/h2&gt;
&lt;p&gt;&lt;img src="garden05.png" alt="garden05"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="garden06.png" alt="garden06"&gt;&lt;/p&gt;
</content></entry><entry><title>Any way the wind blows</title><link href="https://grahamknapp.com/blog/any-way-the-wind-blows/" rel="alternate"/><updated>2019-03-20T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:cb61106b-3835-3404-bdc2-11a720bb073f</id><content type="html">&lt;h3&gt;Adding leading zeros with Python&lt;/h3&gt;
&lt;p&gt;Various ways to add leading zeros to a number, for instance a wind direction, using Python.  &lt;a href="wind_zeros.ipynb"&gt;Available as a Jupyter Notebook&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Generate a list of wind directions&lt;/h3&gt;
&lt;p&gt;First some definitions. The wind direction is measured in degrees clockwise from north and represents the direction the wind is blowing &lt;strong&gt;from&lt;/strong&gt;. For instance an easterly wind, i.e. wind blowing &lt;strong&gt;from&lt;/strong&gt; the east has a direction of 90 degrees. Let's generate 16 wind directions from 0 (north) to 337.5 (north by northwest).&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;interval&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;22.5&lt;/span&gt;  &lt;span class="c1"&gt;# degrees&lt;/span&gt;
&lt;span class="k"&gt;assert&lt;/span&gt; &lt;span class="mi"&gt;360&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;interval&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mf"&gt;0.001&lt;/span&gt;
&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;360&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;interval&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;directions&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;interval&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;directions&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;[0.0,&lt;/span&gt;
&lt;span class="go"&gt; 22.5,&lt;/span&gt;
&lt;span class="go"&gt; 45.0,&lt;/span&gt;
&lt;span class="go"&gt; 67.5,&lt;/span&gt;
&lt;span class="go"&gt;...&lt;/span&gt;
&lt;span class="go"&gt; 337.5]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;String zfill method&lt;/h3&gt;
&lt;p&gt;No doubt the most pythonic way to add leading zeros to a bare string, the built-in &lt;code&gt;str.zfill()&lt;/code&gt; method is designed to do just that.&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dir_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;directions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dir_&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zfill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dir_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zfill&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;    000 000.0&lt;/span&gt;
&lt;span class="go"&gt;    022 022.5&lt;/span&gt;
&lt;span class="go"&gt;    045 045.0&lt;/span&gt;
&lt;span class="go"&gt;    067 067.5&lt;/span&gt;
&lt;span class="go"&gt;    090 090.0&lt;/span&gt;
&lt;span class="go"&gt;    112 112.5&lt;/span&gt;
&lt;span class="go"&gt;    135 135.0&lt;/span&gt;
&lt;span class="go"&gt;    157 157.5&lt;/span&gt;
&lt;span class="go"&gt;    180 180.0&lt;/span&gt;
&lt;span class="go"&gt;    202 202.5&lt;/span&gt;
&lt;span class="go"&gt;    225 225.0&lt;/span&gt;
&lt;span class="go"&gt;    247 247.5&lt;/span&gt;
&lt;span class="go"&gt;    270 270.0&lt;/span&gt;
&lt;span class="go"&gt;    292 292.5&lt;/span&gt;
&lt;span class="go"&gt;    315 315.0&lt;/span&gt;
&lt;span class="go"&gt;    337 337.5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We can immediately see our first quirk: the integer representation truncates decimal values rather than rounding up (as I learned to do at school) or rounding towards the nearest even number (&lt;a href="https://realpython.com/python-rounding/"&gt;as the Python round() funtion would do&lt;/a&gt;).&lt;/p&gt;
&lt;h3&gt;String slicing&lt;/h3&gt;
&lt;p&gt;Very fast and arguably even more readable for people with a good understanding of basic python syntax but no desire to read the docs or explore the obscure corners of the language. Add the maximum possible number of leading zeros and then slice the desired number of digits.&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;directions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;00&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="p"&gt;)))[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:],&lt;/span&gt;
    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;00&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="p"&gt;))[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;    000 000.0&lt;/span&gt;
&lt;span class="go"&gt;    022 022.5&lt;/span&gt;
&lt;span class="go"&gt;    045 045.0&lt;/span&gt;
&lt;span class="go"&gt;    067 067.5&lt;/span&gt;
&lt;span class="go"&gt;    090 090.0&lt;/span&gt;
&lt;span class="go"&gt;    112 112.5&lt;/span&gt;
&lt;span class="go"&gt;    135 135.0&lt;/span&gt;
&lt;span class="go"&gt;    157 157.5&lt;/span&gt;
&lt;span class="go"&gt;    180 180.0&lt;/span&gt;
&lt;span class="go"&gt;    202 202.5&lt;/span&gt;
&lt;span class="go"&gt;    225 225.0&lt;/span&gt;
&lt;span class="go"&gt;    247 247.5&lt;/span&gt;
&lt;span class="go"&gt;    270 270.0&lt;/span&gt;
&lt;span class="go"&gt;    292 292.5&lt;/span&gt;
&lt;span class="go"&gt;    315 315.0&lt;/span&gt;
&lt;span class="go"&gt;    337 337.5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;String format : integers&lt;/h3&gt;
&lt;p&gt;As part of a longer string this allows the  number to be inserted with leading zeros. Compatible with all current versions of Python.&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;directions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Int: &lt;/span&gt;&lt;span class="si"&gt;{:03d}&lt;/span&gt;&lt;span class="s1"&gt; | Float: &lt;/span&gt;&lt;span class="si"&gt;{:05.1f}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
        &lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;  Int: 000  |  Float: 000.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 022  |  Float: 022.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 045  |  Float: 045.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 067  |  Float: 067.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 090  |  Float: 090.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 112  |  Float: 112.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 135  |  Float: 135.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 157  |  Float: 157.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 180  |  Float: 180.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 202  |  Float: 202.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 225  |  Float: 225.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 247  |  Float: 247.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 270  |  Float: 270.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 292  |  Float: 292.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 315  |  Float: 315.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 337  |  Float: 337.5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;F Strings&lt;/h3&gt;
&lt;p&gt;From Python 3.6 this is even terser.&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;dir_&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;directions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Int: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dir_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;03d&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt; | Float: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;dir_&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;05.1f&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;  Int: 000  |  Float: 000.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 022  |  Float: 022.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 045  |  Float: 045.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 067  |  Float: 067.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 090  |  Float: 090.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 112  |  Float: 112.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 135  |  Float: 135.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 157  |  Float: 157.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 180  |  Float: 180.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 202  |  Float: 202.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 225  |  Float: 225.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 247  |  Float: 247.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 270  |  Float: 270.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 292  |  Float: 292.5&lt;/span&gt;
&lt;span class="go"&gt;  Int: 315  |  Float: 315.0&lt;/span&gt;
&lt;span class="go"&gt;  Int: 337  |  Float: 337.5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Class&lt;/h3&gt;
&lt;p&gt;By overloading the built-in &lt;code&gt;__str__()&lt;/code&gt; method for the class we can create our own custom string representation of the value.&lt;/p&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;WindRecord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;direction&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="fm"&gt;__str__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Wind direction: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="si"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;05.1f&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt; ¬∞&amp;#39;&lt;/span&gt;


&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;direction&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;directions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;WindRecord&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;direction&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="hll"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="go"&gt;    Wind direction: 000.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 022.5 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 045.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 067.5 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 090.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 112.5 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 135.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 157.5 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 180.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 202.5 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 225.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 247.5 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 270.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 292.5 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 315.0 ¬∞&lt;/span&gt;
&lt;span class="go"&gt;    Wind direction: 337.5 ¬∞&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thanks to &lt;a href="https://discourse.mcneel.com/u/clement/summary"&gt;@clement&lt;/a&gt; for comments&lt;/p&gt;
</content></entry><entry><title>Building a blog</title><link href="https://grahamknapp.com/blog/first-post/" rel="alternate"/><updated>2019-03-18T00:00:00Z</updated><author><name>Graham Knapp</name></author><id>urn:uuid:e04c0e88-4f26-3634-890d-0cc70007c814</id><content type="html">&lt;p&gt;I have had a few ideas for content to share recently and wanted a good way to do so.  I wanted to find a good solution for blog publishing with a few criteria:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Built using Python, editable in markdown so I can develop my skills.&lt;/li&gt;
&lt;li&gt;Simple to build and maintain - I am not a web developer and have no desire to become one.  That said, I have been &lt;a href="https://web.archive.org/web/20010520155249/http://www.fortunecity.co.uk/madchester/latin/336/"&gt;building websites&lt;/a&gt; on an amateur basis &lt;a href="https://web.archive.org/web/19981202092552/http://www.shef.ac.uk/uni/union/susoc/ftc/"&gt;since the 1990s&lt;/a&gt; so I'm not afraid of writing a little html if I have to.&lt;/li&gt;
&lt;li&gt;Capable of incorporating Jupyter Notebooks&lt;/li&gt;
&lt;li&gt;Simple to deploy, preferably for free.  I am hoping to do this via my internet provider but might go via GitHub failing that or even pay for a small cloud server.&lt;/li&gt;
&lt;li&gt;No initial need for interractive content.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I saw that the static site generators Pelican and Lektor were available.  That sounds like a good solution as it should be quick and have few moving parts which could break.  &lt;a href="https://www.getlektor.com/"&gt;Lektor&lt;/a&gt; looked simple, welcoming and modern enough so I downloaded and installed it. I listened to &lt;a href="https://talkpython.fm/episodes/show/160/lektor-beautiful-websites-out-of-flat-files"&gt;Talk Python episode 160&lt;/a&gt; as I did so and that encouraged me that I was on a good path.&lt;/p&gt;
&lt;blockquote&gt;&lt;audio preload="none" controls="" id="direct_player"&gt;
                                    &lt;source src="https://talkpython.fm/episodes/download/160/lektor-beautiful-websites-out-of-flat-files.mp3" type="audio/mpeg"&gt;
                                &lt;/audio&gt;&lt;p&gt;&lt;em&gt;Listen to Talk Python Episode 160 - Lektor (2018)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My initial experience has been great - I got going with no problem except that at the time of writing I have been waiting over a week for free to get around to setting up my personal web space so I can deploy the site.  At least that has given me enough time to configure a basic blog and write my first 2 posts.&lt;/p&gt;
&lt;h4&gt;Post-deployment update&lt;/h4&gt;
&lt;p&gt;OK so I have gone for GitHub pages for hosting with a custom web domain - buying the domain name and &lt;a href="https://www.getlektor.com/docs/deployment/ghpages/#cname-support"&gt;specifying it in Lektor&lt;/a&gt; and &lt;a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site"&gt;in GitHub pages&lt;/a&gt; was enough to get it working properly with https - no need to update certificates every few months !&lt;/p&gt;
</content></entry></feed>